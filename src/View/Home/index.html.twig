{% extends 'layout.html.twig' %}

{% block title %}Home{% endblock %}

{% block content %}
	<!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">-->
	<main>
		<div class="container">
			<img class="mx-auto d-md-block d-none slide-in-blurred-left" src="/assets/images/Logohackademy.svg">
			<img class="mx-auto d-block d-md-none logo-resize-mobile slide-in-blurred-left" src="/assets/images/Logohackademy.svg">
			{% set trains = "" %}
			{% for training in trainings %}
				<h2 class="main-text-color text-center py-4 d-lg-none">{{ training[loop.index0].name }}</h2>
				<div class="row d-lg-none mx-auto pb-5">
					<div id="carouselControlsSmall-{{ loop.index }}" class="carousel slide" data-bs-ride="carousel">
						<div class="carousel-inner">
							{% set trains = trainings[loop.index0] %}
							{% for tr in trains %}
								<div class="carousel-item {% if loop.index == 1 %}active{% endif %}">
									<div class="row">
										<div class="card card-custom bg-white border-white border-0" id="slide{{ loop.index }}" style="height: 35rem">
											<div class="card-custom-img" style="background-image: url(https://www.vhv.rs/dpng/d/11-112994_homer-simpson-png-transparent-png.png);"></div>
											<div class="card-custom-avatar">
												<img class="img-fluid" src="https://www.webstickersmuraux.com/fr/img/asfs1085-png/folder/products-detalle-png/autocollants-homer-simpson-court-nu.png" alt="Avatar"/>
											</div>
											<div class="card-body secondary-bg-color" style="overflow-y: auto">
												<h4 class="card-title secondary-text-color">{{ tr.title}}</h4>
												<p class="card-text secondary-text-color">{{ tr.description|length > 400 ? tr.description|slice(0, 400) ~ '...' : tr.description}}</p>
												<p class="card-text secondary-text-color">Prix de la formation :
													{{ tr.price}}
													€</p>
												<p class="card-text secondary-text-color">Début de la formation :
													{{ tr.date_start}}</p>
												<p class="card-text secondary-text-color">Fin de la formation :
													{{ tr.date_end}}</p>
												<p class="card-text secondary-text-color">Durée de la formation :
													{{ training.duration}}
													heures</p>
												<p class="card-text secondary-text-color">
													X /
													{{tr.max_students}}
													étudiants déjà inscrits. X places disponibles avant le
													{{ tr.date_start }}.</p>
												<p class="card-text secondary-text-color">Stack ID :{{ training.stack_id }}</p>
											</div>
											<div class="card-footer-hackademy secondary-bg-color text-center">
												<a href="/trainings/show?id={{ tr.id }}" class="btn-hackademy btn-primary-hackademy">Détails</a>
											</div>
										</div>
									</div>
								</div>
							{% else %}
								<li>Aucune formation n'est proposée actuellement.</li>
							{% endfor %}
						</div>
						<button class="carousel-control-prev d-lg-none" type="button" data-bs-target="#carouselControlsSmall-{{ loop.index }}" data-bs-slide="prev">
							<span class="carousel-control-prev-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Previous</span>
						</button>
						<button class="carousel-control-next d-lg-none" type="button" data-bs-target="#carouselControlsSmall-{{ loop.index }}" data-bs-slide="next">
							<span class="carousel-control-next-icon" aria-hidden="true"></span>
							<span class="visually-hidden">Next</span>
						</button>
					</div>
				</div>
			{% endfor %}
			<section class="pt-5 pb-5">
				<div class="container-fluid">
					{% set trains = "" %}
					{% for training in trainings %}		
						{# {% if trainings|length >= 8 %} #}
							<h2 class="main-text-color text-center py-4 d-none d-lg-block">{{ training[loop.index0].name }}</h2>
							<div class="row d-none d-lg-block">
								<div class="col-12">
									<div id="carouselExampleControlsLarge-{{loop.index}}" class="carousel slide">
										<div class="carousel-inner">
											{% set trains = trainings[loop.index0] %}
											<div class="carousel-item active">
												<div class="row">
												{% for tr in trains %}
													<div class="col-md-4 mb-3">
														<div class="card card-custom bg-white border-white border-0" style="height: auto">
															<div class="card-custom-img" style="background-image: url(https://www.vhv.rs/dpng/d/11-112994_homer-simpson-png-transparent-png.png);"></div>
															<div class="card-custom-avatar">
																<img class="img-fluid" src="https://www.webstickersmuraux.com/fr/img/asfs1085-png/folder/products-detalle-png/autocollants-homer-simpson-court-nu.png" alt="Avatar"/>
															</div>
															<div class="card-body secondary-bg-color" style="overflow-y: auto">
																<h4 class="card-title secondary-text-color">{{ tr.title}}</h4>
																<p class="card-text secondary-text-color">{{ tr.description|length > 400 ? tr.description|slice(0, 400) ~ '...' : tr.description}}</p>
																<p class="card-text secondary-text-color">Prix de la formation :
																	{{ tr.price}}
																	€</p>
																<p class="card-text secondary-text-color">Début de la formation :
																	{{ tr.date_start}}</p>
																<p class="card-text secondary-text-color">Fin de la formation :
																	{{ tr.date_end}}</p>
																<p class="card-text secondary-text-color">Durée de la formation :
																	{{ tr.duration}}
																	heures</p>
																<p class="card-text secondary-text-color">
																	X /
																	{{tr.max_students}}
																	étudiants déjà inscrits. 15 places disponibles avant le
																	{{ tr.date_start }}.</p>
																<p class="card-text secondary-text-color">Stack ID :{{ tr.stack_id }}</p>
															</div>
															<div class="card-footer-hackademy secondary-bg-color text-center">
																<a href="/trainings/show?id={{ tr.id }}" class="btn-hackademy btn-primary-hackademy">Détails</a>
															</div>
														</div>
													</div>
													{% if loop.index is divisible by(3) %}
														</div></div>
														<div class="carousel-item">
														<div class="row">
													{% endif %}
												{% endfor %}
												</div>
											</div>
										</div>
										<button class="carousel-control-prev  d-none d-lg-block" type="button" data-bs-target="#carouselExampleControlsLarge-{{loop.index}}" data-bs-slide="prev">
											<span class="carousel-control-prev-icon" aria-hidden="true"></span>
											<span class="visually-hidden">Previous</span>
										</button>
										<button class="carousel-control-next  d-none d-lg-block" type="button" data-bs-target="#carouselExampleControlsLarge-{{loop.index}}" data-bs-slide="next">
											<span class="carousel-control-next-icon" aria-hidden="true"></span>
											<span class="visually-hidden">Next</span>
										</button>
									</div>
								</div>
							</div>
						{# {% else %} #}
							<!--<div class="row">
								<div class="col-6 mx-auto">
									<h2 class="main-text-color py-3">Il n'y a pas assez de formations en base de données</h2>
									<img class="img-fluid" src="https://www.webstickersmuraux.com/fr/img/asfs1085-png/folder/products-detalle-png/autocollants-homer-simpson-court-nu.png" alt="Homer Simpson"/>
								</div>
							</div>-->
						{# {% endif %} #}
					{% endfor %}
				</div>
			</section>
		</div>
	</main>
	{% endblock %}
	{# {% block javascript %}
		<!-- JavaScript Bundle with Popper -->
		<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>-->
	{% endblock %} #}
